<!doctype html>
<html lang="es" ng-app="uocApp">
<head>
<meta name="twitter:widgets:csp" content="on">
<title>UOChrome</title>
<link rel="stylesheet" href="../../js/bootstrap-3.1.1/css/bootstrap.min.css" media="screen">
<link rel="stylesheet" href="../../js/bootstrap-3.1.1/css/bootstrap-theme.min.css" media="screen">
<style type="text/css">
	body{margin:0;}
	#mainPopup {
		padding-right: 10px;
		width: 800px;
		font-family: Helvetica, Ubuntu, Arial, sans-serif;
		font-size: 14px;
		margin:0 auto;
		min-height:300px;
	}	
	.card {
		background: #f9f9f9;
		border: 1px solid #ddd;
		border-bottom: 3px solid #BBB;
		padding: 0px;
		margin: 1%;
		overflow: auto;
		width: 30%;
		border-radius: 5px;
		float: left;
		height: 220px;
	}

	.card a {
	   text-decoration: none;
	}
	
	.card h1 {
		margin: 0px;
		padding: 2%;
		padding-bottom: 0px;
		font-size: 1em;
		width: 70%;
	}

	.card p {
		margin:0px;
		padding:10px;
	   color: #993300;
	}

	.card-image {
		width:100%;
		height:113px;
		padding:0px;
		margin:0px;
		background-position:center;
		background-repeat:no-repeat;
		position:relative;
		overflow:hidden;
	}


	
	.card ul{
		list-style:none;
		padding:0
	}
	
	.card ul li{
		font-size: 1em;
		text-align: right;
		border-bottom: 1px dotted;
		padding: 5px 5px 5px 20px;
		margin: 10px 0 0 0;
	}
	
	.card ul li .ctitle{
		float:left;
		
	}
	a,
	a:hover,
	a:active,
	a:visited{
		color:black;
		font-weight:bold;
		text-decoration:none;
	}
	
	ul li .msg{
		text-align:right;
		font-weight: bold;
		text-decoration: none;
		background:#A2A2A2;
		min-height: 12px;
		min-width: 14px;
		padding: 2px 4px;
		text-align: center;
		font-weight: bold;
		margin-right: -2px;
		color:white;
	}
	
	ul li .msg.first{
		border-top-left-radius: 3px;
		border-bottom-left-radius: 3px;
	}
	
	ul li .msg.last{
		border-top-right-radius: 3px;
		border-bottom-right-radius: 3px;
	}
	
	ul li .msg.hasunread{
		background-color: #B94747;
	}
	.card:nth-child(1n+0){border-bottom:5px solid #e46f61;}
	.card:nth-child(2n+0){border-bottom:5px solid #4dbfd9;}
	.card:nth-child(3n+0){border-bottom:5px solid #fbcb43;}
	.card:nth-child(4n+0){border-bottom:5px solid #bc5679;}
	.card:nth-child(5n+0){border-bottom:5px solid #6f85bf;}
	.card:nth-child(6n+0){border-bottom:5px solid #8cc474;}
	
	.class-name{color: #262626;
display: inline-block;
font: 300 17px Roboto,arial,sans-serif;
font-weight: bold;
}
h1{float:right;}
.class-image{
float: left;
margin: 3%;
width: 20%;
}
.resources{clear:both;margin-top:15px;margin-bottom:0;}
#menu{padding:1%;
background: rgb(255,255,255); /* Old browsers */
background: -moz-linear-gradient(top, rgba(255,255,255,1) 0%, rgba(229,229,229,1) 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(255,255,255,1)), color-stop(100%,rgba(229,229,229,1))); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top, rgba(255,255,255,1) 0%,rgba(229,229,229,1) 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top, rgba(255,255,255,1) 0%,rgba(229,229,229,1) 100%); /* Opera 11.10+ */
background: -ms-linear-gradient(top, rgba(255,255,255,1) 0%,rgba(229,229,229,1) 100%); /* IE10+ */
background: linear-gradient(to bottom, rgba(255,255,255,1) 0%,rgba(229,229,229,1) 100%); /* W3C */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#e5e5e5',GradientType=0 ); /* IE6-9 */
border-bottom: 5px solid #6f6f6f;
}
.subtitle{font-size:.8em; font-style:italic;padding-left:30px;}
#menu ul{margin:0;padding:0;padding-left:2%;}
#menu > ul > li{list-style-type:none;float:left;margin-right:2%;width:20%;padding:0.5%}

#buzonPersonal .mailbox-title{
	font-weight:bold;
	font-size:1em;
}
.clear{clear:both;}
img.image-left{float:left;width:40px;margin-right:3%;}
#menu .resources{clear:none; margin:5%;}

#menu li .title{
display: block;
margin-bottom: 2%;
}
#menu li.simple a{
	
	display: block;
}

#last-news{padding:1%;
background: rgb(255,255,255); /* Old browsers */
background: -moz-linear-gradient(top, rgba(255,255,255,1) 0%, rgba(229,229,229,1) 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(255,255,255,1)), color-stop(100%,rgba(229,229,229,1))); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top, rgba(255,255,255,1) 0%,rgba(229,229,229,1) 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top, rgba(255,255,255,1) 0%,rgba(229,229,229,1) 100%); /* Opera 11.10+ */
background: -ms-linear-gradient(top, rgba(255,255,255,1) 0%,rgba(229,229,229,1) 100%); /* IE10+ */
background: linear-gradient(to bottom, rgba(255,255,255,1) 0%,rgba(229,229,229,1) 100%); /* W3C */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#e5e5e5',GradientType=0 ); /* IE6-9 */
border-top: 5px solid #fbcb43;
width:100%;
}
#last-news div{
height:150px;
width:100%;
}

.logo{width:30%;float:right;text-align:left;}
.logo h1{font: 300 2.5em Roboto,arial,sans-serif;font-style:italic;font-weight:bold;float:none;margin:0}
.logo .subtitle{font: 300 1em Roboto,arial,sans-serif;font-style:italic;display:block;padding:0;}
</style>

</head>
<body ng-controller="UOChromeCtrl">
	
	<div class="modal fade" id="aboutDlg" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	  <div class="modal-dialog">
		<div class="modal-content">
		  <div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
			<h4 class="modal-title" id="myModalLabel">About UOChrome</h4>
		  </div>
		  <div class="modal-body">
			UOChrome es una extensión de código abierto desarrollada para los usuarios del campus de la UOC.<br/>
			Inicialmente desarrollada por 
			<a href="https://plus.google.com/+JorgeAguilera-PuraVida" target="_blank" title="Jorge Aguilera González">+JorgeAguilera-PuraVida</a>			
			y con la colaboracion de 
			<a href="https://plus.google.com/+DavidLorenzoLópez88" target="_blank" title="David Lorenzo López">+DavidLorenzoLópez88</a>
			y varios más.</br>
			Si quieres participar no dudes en ponerte en contacto con nosotros.
		  </div>
		  <div class="modal-footer">
			<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
		  </div>
		</div>
	  </div>
	</div>
		
	<div id="mainPopup" class="float-left">
	
		<div id="menu">
			<div class="logo">
				<span class="subtitle">
				</span>
			</div>
			<ul>
				<li class="simple">
					<a href="http://cv.uoc.edu/cgi-bin/uocapp?s={{session}}" title="Acceder al Campus" target="_blank">						
						<img src="../../icons/campus_icon.gif" alt="Acceso al Campus" />						
					</a>					
				</li>
				<li>
					<a href="javascript:void(0)" ng-click="accesoRapido()" title="Abrir aulas con mensajes pendientes">						
						<img src="../../icons/msg_icon.gif" alt="Acceso Rápido" class="image-left" />
						<ul class="resources">
							<li>
								<span class="munread msg first " ng-class="{hasunread: unreadmessages > 0}">{{unreadmessages}}</span>
								
							</li>
						</ul>
					</a>				
				</li>
				<li style="float:right">
					<button class="btn btn-primary btn-lg glyphicon glyphicon-info-sign" data-toggle="modal" data-target="#aboutDlg">					
					</button>
				</li>
			</ul>
			
			<div class="clear"></div>
		</div>
		<div class="clear"></div>
		<div ng-repeat="aula in aulas " class="card">			
			<h1 ng-show="aula.shortname.length"><a href="http://cv.uoc.edu/webapps/classroom/{{aula.pt_template}}/frameset.jsp?domainCode={{aula.code}}&s={{session}}" class="class-name" target="_blank">{{aula.shortname}}</a><span class="subtitle">Código: {{aula.codi_tercers}}</span></h1>
			<h1 ng-show="!aula.shortname.length"><a href="http://cv.uoc.edu/webapps/classroom/{{aula.pt_template}}/frameset.jsp?domainCode={{aula.code}}&s={{session}}" class="class-name" target="_blank">{{aula.title}}</a><span class="subtitle">Código: {{aula.codi_tercers}}</span></h1>
			<img src="{{aula.mc_icon}}" alt="{{aula.title}}" class="class-image" />
			<ul class="resources">
				<li ng-repeat="res in aula.resources">
					<span class="ctitle"><a href="http://cv.uoc.edu/cgi-bin/ma_mainMailFS?l={{res.code}}&s={{session}}" target="_blank" title="Acceder al {{res.title}}">{{res.title}}</a></span>
					<span class="munread msg first" ng-class="{hasunread: res.hasPendMes}">{{res.numMesPend}}</span>
					<span class="mtotals msg last">{{res.numMesTot}}</span>
					<!--<span class="msent msg" ng-show="res.sendMes != -1">{{res.sendMes}}</span>-->
				</li>
				<li ng-show="aula.domaintypeid == 'AULA'">
					<span class="ctitle"><a href="http://cv.uoc.edu/webapps/rac/listEstudiant.action?domainId={{aula.domainid}}&s={{session}}" title="Acceder al Registro de Evaluación Continua" target="_blank">REC</a></span>
					<span style="clear:both;display:block;"></span>
				</li>
			</ul>			
		</div>
		<div id="buzonPersonal" class="card" >
			<a href="http://cv.uoc.edu/WebMail/attach.do?s={{session}}" target="_blank" title="Acceder al {{personalMailbox.title}}">
				<span class="title">Buzón Personal</span>
				<img src="{{personalMailbox.mc_icon}}" width="50" class="image-left"/>
				<ul class="resources">
					<li ng-repeat="res in personalMailbox.resources">
						<span class="munread msg first" ng-class="{hasunread: res.unread > 0}">{{res.unread}}</span>
						<span class="mtotals msg last">{{res.totals}}</span>
						<!--<span class="msent msg" ng-show="res.sendMes != -1">{{res.sendMes}}</span>-->
					</li>
				</ul>
			</a>
		</div>
		
		<div class="clear"></div>
		<div id="last-news">
			<div>
			<a class="twitter-timeline"
				data-chrome="noheader nofooter noborders noscrollbar"
				data-tweet-limit="1"
				data-user-id=""
				data-show-replies="false" 
				href="https://twitter.com/UOChrome" data-widget-id="478214066293313536">Siguenos en Twitter @UOChrome</a>
			</div>
		</div>
		<div class="clear"></div>
		
	</div>
</body>
<!-- JavaScripts -->        
<script src="../../js/jquery/jquery.min.js"></script>
<script src="../../js/bootstrap-3.1.1/js/bootstrap.min.js"></script>
<script src="../../js/angular/angular.min.js"></script>
<script src="../options_custom/lib/store.js"></script>
<script src="../bg/background.js"></script>
<script src="browser_action.js"></script>
<script src="twitter.js"></script>
</html>
